{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","components/Probe/Probe.tsx","components/Probe/ProbeList.tsx","middleware/auth.js","pages/tabs/ProbeTab.tsx","components/Map/Map.tsx","pages/tabs/MapTab.tsx","pages/tabs/UserTab.tsx","pages/ProbePage.tsx","pages/auth/Login.tsx","pages/auth/Register.tsx","pages/auth/Forgot.tsx","routes/web.js","pages/DevTools.tsx","pages/About.tsx","theme/temper.js","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","DefaultIcon","L","icon","iconUrl","shadowUrl","iconShadow","Marker","prototype","options","Probe","token","useState","name","setName","state","setState","category","setCategory","temperature","humidity","date","lastMeasure","setLastMeasure","lon","lat","gps","setGPS","loading","setLoading","showSpinner","setShowSpinner","handleToggle","a","fetch","window","location","hostname","method","res","json","result","response","data","toggleState","useEffect","lastmeasure","fetchData","history","useHistory","animated","style","heigth","Heading","as","size","outline","className","color","fill","slot","onClick","push","lines","thermometerOutline","rainyOutline","timeOutline","moment","fromNow","Map","center","zoom","height","width","TileLayer","url","attribution","position","Popup","Button","variantColor","variant","expand","flashOffOutline","flashOutline","ProbeList","list","setList","search","setSearch","probeCards","key","sizeLg","value","onIonChange","detail","showCancelButton","auth_routes","auth_middleware","localStorage","getItem","includes","pathname","ProbeTab","showAddModal","setShowAddModal","inputName","setInputName","inputCategory","setInputCategory","showAddfromToken","setShowAddfromToken","inputToken","setInputToken","loadingPost","setLoadingPost","loadingShareToken","setLoadingShareToken","auth_json","JSON","parse","auth_token","setAuthToken","fontFamily","horizontal","vertical","arrowUp","side","add","Swal","fire","qrCodeOutline","barcodeOutline","isOpen","placeholder","headers","Accept","body","stringify","user","share","MapComponent","gpsArray","setGPSArray","forEach","concat","console","log","Fragment","MapTab","UserTab","email","setUser","auth_dev","darkMode","setDarkMode","clickForDevMode","setClickForDevMode","toastVisible","setToastVisible","toastMsg","setToastMsg","developperMode","setDevelopperMode","handleDarkMode","checked","setItem","document","classList","toggle","login","logout","href","navigateTo","Avatar","src","textAlign","moonOutline","sunnyOutline","button","lockClosedOutline","peopleCircleOutline","settingsOutline","happyOutline","bugOutline","onDidDismiss","message","duration","ProbePage","useLocation","split","createdAt","setCreatedAt","measures","setMeasures","owner","setOwner","showActionSheet","setShowActionSheet","showQR","setShowQR","qrJson","setQRJSON","fetchMeasures","created_at","fetchOwner","isGPS","scrollEvents","onIonScrollStart","onIonScroll","onIonScrollEnd","pager","initialSlide","speed","chevronBackOutline","ellipsisVerticalOutline","time","personOutline","onIonRefresh","event","complete","Stack","spacing","obj","index","tPercent","hPercent","Math","round","Box","p","borderWidth","Stat","thermometer","fontSize","fontWeight","type","rainy","format","querySelector","scrollToTop","arrowUpCircle","cssClass","includeMargin","bgColor","close","buttons","text","role","trash","handler","heart","Login","setLogin","password","setPassword","showError","setShowError","logging","logging_msg","error","setError","handlePost","Image","alt","marginBottom","required","header","Register","setEmail","passwordConfirmation","setPC","score","msg","passwordStrength","setPS","passwordConfirmationFeedback","setPCF","password_confirmation","zx","zxcvbn","handlePwdChange","Text","Forgot","RoutesTab","path","component","label","mapOutline","peopleOutline","Routes","RoutesAuth","personAddOutline","fingerPrintOutline","keyOutline","temper","theme","fonts","heading","mono","logged","ThemeProvider","CSSReset","ColorModeProvider","exact","render","to","tab","toLowerCase","notLogged","App","Boolean","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6IAAA,IAAIA,EAAM,CACT,kCAAmC,CAClC,IACA,IAED,iCAAkC,CACjC,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,gCAAiC,CAChC,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,gCAAiC,CAChC,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,qBAAsB,CACrB,IACA,IAED,uCAAwC,CACvC,IACA,IAED,sCAAuC,CACtC,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,mCAAoC,CACnC,IACA,IAED,kCAAmC,CAClC,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,kCAAmC,CAClC,IACA,IAED,iCAAkC,CACjC,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,gCAAiC,CAChC,IACA,IAED,+BAAg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","file":"static/js/main.59d20b55.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t152,\n\t\t11\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t153,\n\t\t12\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t154,\n\t\t13\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t155,\n\t\t14\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t156,\n\t\t15\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t157,\n\t\t16\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t158,\n\t\t33\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t159,\n\t\t34\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t160,\n\t\t35\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t161,\n\t\t36\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t162,\n\t\t77\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t163,\n\t\t78\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t164,\n\t\t37\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t165,\n\t\t38\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t166,\n\t\t39\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t167,\n\t\t40\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t168,\n\t\t41\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t169,\n\t\t42\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t170,\n\t\t43\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t171,\n\t\t44\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t172,\n\t\t79\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t173,\n\t\t21\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t174,\n\t\t22\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t175,\n\t\t45\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t176,\n\t\t46\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t177,\n\t\t80\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t178,\n\t\t81\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t179,\n\t\t82\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t180,\n\t\t47\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t181,\n\t\t48\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t182,\n\t\t49\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t183,\n\t\t50\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t184,\n\t\t51\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t185,\n\t\t52\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t186,\n\t\t53\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t187,\n\t\t54\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t188,\n\t\t55\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t189,\n\t\t56\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t190,\n\t\t17\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t191,\n\t\t18\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t192,\n\t\t29\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t193,\n\t\t19\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t194,\n\t\t20\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t195,\n\t\t57\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t196,\n\t\t58\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t197,\n\t\t59\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t198,\n\t\t60\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t199,\n\t\t61\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t200,\n\t\t62\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t201,\n\t\t23\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t202,\n\t\t24\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t203,\n\t\t31\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t204,\n\t\t32\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t205,\n\t\t83\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t206,\n\t\t63\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t207,\n\t\t64\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t208,\n\t\t65\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t209,\n\t\t66\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t210,\n\t\t67\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t211,\n\t\t68\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t212,\n\t\t69\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t213,\n\t\t84\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t214,\n\t\t85\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t215,\n\t\t27\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t216,\n\t\t86\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t217,\n\t\t87\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t218,\n\t\t70\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t219,\n\t\t71\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t220,\n\t\t30\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t221,\n\t\t72\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t222,\n\t\t73\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t223,\n\t\t74\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t224,\n\t\t75\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t225,\n\t\t76\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t226,\n\t\t25\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t227,\n\t\t26\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t228,\n\t\t88\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 109;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t230,\n\t\t91\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 111;\nmodule.exports = webpackAsyncContext;","import React, { useState, useEffect } from \"react\";\r\nimport \"./Probe.css\";\r\nimport \"leaflet/dist/leaflet.css\"\r\n\r\nimport {\r\n  IonCard,\r\n  IonItem,\r\n  IonLabel,\r\n  IonButton,\r\n  IonCardContent,\r\n  IonSkeletonText,\r\n  IonList,\r\n  IonListHeader,\r\n  IonIcon,\r\n  IonChip,\r\n  IonSpinner,\r\n} from \"@ionic/react\";\r\nimport {\r\n  thermometerOutline,\r\n  rainyOutline,\r\n  timeOutline,\r\n  flashOffOutline,\r\n  flashOutline,\r\n} from \"ionicons/icons\";\r\n\r\n\r\nimport moment from \"moment\";\r\n\r\nimport \"leaflet/dist/leaflet.css\"\r\nimport L from 'leaflet';\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport icon from 'leaflet/dist/images/marker-icon.png';\r\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button, Heading } from \"@chakra-ui/core\";\r\n\r\nlet DefaultIcon = L.icon({\r\n  iconUrl: icon,\r\n  shadowUrl: iconShadow\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\n\r\ninterface ContainerProps {\r\n  token: string;\r\n  id: number;\r\n}\r\n\r\nconst Probe: React.FC<ContainerProps> = ({ token, id }) => {\r\n  const [name, setName] = useState();\r\n  const [state, setState] = useState();\r\n  const [category, setCategory] = useState();\r\n  const [lastMeasure, setLastMeasure] = useState({\r\n    temperature: null,\r\n    humidity: null,\r\n    date: null,\r\n  });\r\n  const [gps, setGPS] = useState({\r\n    lon: 0,\r\n    lat: 0,\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [showSpinner, setShowSpinner] = useState(false);\r\n\r\n  const handleToggle = () => {\r\n    setShowSpinner(true);\r\n    async function toggleState() {\r\n      await fetch(\"http://\" + window.location.hostname + \":8000/api/v1/probe/\" + token + \"/toggle\", {\r\n        method: \"PUT\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setState(result.response.data.state);\r\n          setShowSpinner(false);\r\n        });\r\n    }\r\n\r\n    toggleState();\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await fetch(\"http://\" + window.location.hostname + \":8000/api/v1/probe/\" + token)\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          setName(res.response.data.name);\r\n          setState(res.response.data.state);\r\n          setCategory(res.response.data.category);\r\n          setLastMeasure(res.response.data.lastmeasure);\r\n          setGPS(res.response.data.gps);\r\n          setLoading(false);\r\n        });\r\n    }\r\n\r\n    fetchData();\r\n  }, [token]);\r\n\r\n  const history = useHistory();\r\n  const navigateTo = () => history.push('/probe/' + token);\r\n\r\n  return (\r\n    <IonCard>\r\n      {!loading ? (\r\n        <>\r\n          <IonItem>\r\n            <Heading as=\"h3\" size=\"md\">\r\n              {name ? name : \"Sonde #\" + id}\r\n            </Heading>\r\n            <IonChip outline={true} className=\"ion-margin-horizontal\" color=\"tertiary\">\r\n              {category}\r\n            </IonChip>\r\n\r\n            <IonChip color={state ? \"success\" : \"danger\"}>\r\n              {state ? \"Active\" : \"Disabled\"}\r\n            </IonChip>\r\n\r\n            <IonButton fill=\"outline\" slot=\"end\" onClick={() => navigateTo()}>\r\n              VIEW\r\n            </IonButton>\r\n          </IonItem>\r\n\r\n          <IonCardContent>\r\n            {lastMeasure.temperature &&\r\n              lastMeasure.humidity &&\r\n              lastMeasure.date ? (\r\n                <>\r\n                  <IonListHeader lines=\"full\">\r\n                    <IonLabel>Last Measures</IonLabel>\r\n                    <IonButton>See All</IonButton>\r\n                  </IonListHeader>\r\n                  <IonList>\r\n                    <IonItem>\r\n                      <IonLabel>\r\n                        <h2>\r\n                          <IonIcon\r\n                            icon={thermometerOutline}\r\n                            className=\"ion-margin-horizontal\"\r\n                            color=\"primary\"\r\n                          ></IonIcon>\r\n                          {lastMeasure.temperature\r\n                            ? lastMeasure.temperature + \" ¬∞C\"\r\n                            : \"No temperature ‚ùå\"}\r\n                        </h2>\r\n                        <h3>\r\n                          <IonIcon\r\n                            icon={rainyOutline}\r\n                            className=\"ion-margin-horizontal\"\r\n                            color=\"secondary\"\r\n                          ></IonIcon>\r\n                          {lastMeasure.humidity\r\n                            ? lastMeasure.humidity + \" %\"\r\n                            : \"No humidity ‚ùå\"}\r\n                        </h3>\r\n                        <p>\r\n                          <IonIcon\r\n                            icon={timeOutline}\r\n                            className=\"ion-margin-horizontal\"\r\n                            color=\"tertiary\"\r\n                          ></IonIcon>\r\n                          {lastMeasure.date\r\n                            ? moment(lastMeasure.date).fromNow()\r\n                            : \"No date ‚ùå\"}\r\n                        </p>\r\n                      </IonLabel>\r\n                    </IonItem>\r\n                  </IonList>\r\n                </>\r\n              ) : (\r\n                <> </>\r\n              )}\r\n            {gps.lon && gps.lat ? (\r\n              <Map center={[gps.lat, gps.lon]} zoom={4} style={{ height: '200px', width: '99%' }}>\r\n                <TileLayer\r\n                  url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  attribution='Temper üíû'\r\n                />\r\n                {\" \"}\r\n                <Marker position={[gps.lat, gps.lon]}>\r\n                  <Popup>\r\n                    <Button\r\n                      variantColor={state ? \"red\" : \"green\"}\r\n                      variant=\"ghost\"\r\n                      onClick={() => handleToggle()}\r\n                    >\r\n                      {state ? \"Turn off\" : \"Turn on\"}\r\n                    </Button>\r\n                  </Popup>\r\n                </Marker>\r\n              </Map>\r\n            ) : (\r\n                \"\"\r\n              )}\r\n            <IonButton\r\n              expand=\"block\"\r\n              color={state ? \"danger\" : \"success\"}\r\n              onClick={() => {\r\n                handleToggle();\r\n              }}\r\n            >\r\n              <IonIcon\r\n                icon={state ? flashOffOutline : flashOutline}\r\n                slot=\"start\"\r\n              ></IonIcon>\r\n              {state ? \"Disable\" : \"Activate\"}\r\n              {showSpinner ? <IonSpinner name=\"crescent\" className=\"ml-3\" /> : \"\"}\r\n\r\n            </IonButton>\r\n          </IonCardContent>\r\n        </>\r\n      ) : (\r\n          <>\r\n            <IonItem>\r\n              <IonSkeletonText animated></IonSkeletonText>\r\n            </IonItem>\r\n\r\n            <IonCardContent>\r\n              <IonSkeletonText\r\n                animated\r\n                style={{ heigth: \"100px\" }}\r\n              ></IonSkeletonText>\r\n            </IonCardContent>\r\n          </>\r\n        )}\r\n    </IonCard>\r\n  );\r\n};\r\n\r\nexport default Probe;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./ProbeList.css\";\r\nimport {\r\n  IonGrid,\r\n  IonRow,\r\n  IonCol,\r\n  IonContent,\r\n  IonSkeletonText,\r\n  IonSearchbar\r\n} from \"@ionic/react\";\r\nimport Probe from \"./Probe\";\r\n\r\ninterface ContainerProps {\r\n  token: string;\r\n}\r\n\r\nconst ProbeList: React.FC<ContainerProps> = ({ token }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [list, setList] = useState([]);\r\n  const [search, setSearch] = useState<string>();\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await fetch(\r\n        \"http://\" + window.location.hostname + \":8000/api/v1/probe/user/\" + token\r\n      )\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          setList(res.response.data);\r\n          setLoading(false);\r\n        });\r\n    }\r\n\r\n    fetchData();\r\n  }, [token]);\r\n\r\n  let probeCards = list.map((token, key) => {\r\n    return (\r\n      <IonCol sizeLg=\"4\" key={key} >\r\n        <Probe token={token} id={key + 1} />\r\n      </IonCol>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <IonContent>\r\n\r\n      <IonSearchbar value={search} onIonChange={e => setSearch(e.detail.value!)} showCancelButton=\"focus\" animated></IonSearchbar>\r\n      {!loading ? (\r\n        <>\r\n          <IonGrid>\r\n            <IonRow>{probeCards}</IonRow>\r\n          </IonGrid>\r\n        </>\r\n      ) : (\r\n          <>\r\n            <IonSkeletonText\r\n              animated\r\n              style={{ height: \"20vh\" }}\r\n            ></IonSkeletonText>\r\n            <IonSkeletonText\r\n              animated\r\n              style={{ height: \"10vh\" }}\r\n            ></IonSkeletonText>\r\n            <IonSkeletonText\r\n              animated\r\n              style={{ height: \"30vh\" }}\r\n            ></IonSkeletonText>\r\n            <IonSkeletonText\r\n              animated\r\n              style={{ height: \"5vh\" }}\r\n            ></IonSkeletonText>\r\n          </>\r\n        )}\r\n    </IonContent>\r\n  );\r\n};\r\n\r\nexport default ProbeList;\r\n","let auth_routes = [\r\n    '/register',\r\n    '/login',\r\n    '/forgot',\r\n];\r\n\r\n\r\n\r\nexport const auth_middleware = () => {\r\n    let logged = localStorage.getItem('auth.logged');\r\n    if (logged !== '1' && !auth_routes.includes(window.location.pathname)) {\r\n        window.location.pathname = \"/login\";\r\n    }\r\n}","import React, { useState } from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonFab,\r\n  IonFabList,\r\n  IonFabButton,\r\n  IonIcon,\r\n  IonModal,\r\n  IonButton,\r\n  IonContent,\r\n  IonItem,\r\n  IonInput,\r\n  IonSpinner,\r\n} from \"@ionic/react\";\r\nimport { barcodeOutline, add, qrCodeOutline, arrowUp } from \"ionicons/icons\";\r\nimport List from \"../../components/Probe/ProbeList\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport \"./ProbeTab.css\";\r\nimport { auth_middleware } from \"../../middleware/auth\";\r\n\r\nconst ProbeTab: React.FC = () => {\r\n  auth_middleware();\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [inputName, setInputName] = useState<string>();\r\n  const [inputCategory, setInputCategory] = useState<string>();\r\n\r\n  const [showAddfromToken, setShowAddfromToken] = useState(false);\r\n  const [inputToken, setInputToken] = useState<string>();\r\n\r\n  const [loadingPost, setLoadingPost] = useState(false);\r\n  const [loadingShareToken, setLoadingShareToken] = useState(false);\r\n\r\n  let auth_json = JSON.parse(\r\n    localStorage.getItem(\"auth\") ||\r\n    `{\"user\": {\"name\": \"\",\"email\": \"\"},\"token\": \"\"}`\r\n  );\r\n\r\n  const [auth_token, setAuthToken] = useState(auth_json.token);\r\n\r\n  const handlePost = () => {\r\n    setLoadingPost(true);\r\n    fetch(\"http://\" + window.location.hostname + \":8000/api/v1/probe/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        user: auth_json.token,\r\n        name: inputName,\r\n        category: inputCategory,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.response) {\r\n          setAuthToken(`${auth_json.token} `);\r\n        }\r\n        setLoadingPost(false);\r\n        setShowAddModal(false);\r\n      });\r\n  };\r\n\r\n  const handleTokenPost = () => {\r\n    setLoadingShareToken(true);\r\n    fetch(\"http://\" + window.location.hostname + \":8000/api/v1/share/token\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        user: auth_json.token,\r\n        share: inputToken,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.response) {\r\n          setAuthToken(`${auth_json.token} `);\r\n        }\r\n        setLoadingShareToken(false);\r\n        setShowAddfromToken(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonContent>\r\n        <div className=\"p-3 ml-2 mb-2 display-1\" style={{fontFamily:'Nunito'}}>\r\n          Probes\r\n        </div>\r\n        <List token={auth_token}></List>\r\n\r\n        <IonFab horizontal=\"end\" vertical=\"bottom\" slot=\"fixed\">\r\n          <IonFabButton color=\"dark\">\r\n            <IonIcon icon={arrowUp}></IonIcon>\r\n          </IonFabButton>\r\n          <IonFabList side=\"top\">\r\n            <IonFabButton color=\"light\" onClick={() => setShowAddModal(true)}>\r\n              <IonIcon icon={add}></IonIcon>\r\n            </IonFabButton>\r\n            <IonFabButton\r\n              color=\"light\"\r\n              onClick={() =>\r\n                Swal.fire(\"QR Code\", \"Clicked on QRCode\", \"success\")\r\n              }\r\n            >\r\n              <IonIcon icon={qrCodeOutline}></IonIcon>\r\n            </IonFabButton>\r\n            <IonFabButton\r\n              color=\"light\"\r\n              onClick={() => setShowAddfromToken(true)}\r\n\r\n            >\r\n              <IonIcon icon={barcodeOutline}></IonIcon>\r\n            </IonFabButton>\r\n          </IonFabList>\r\n        </IonFab>\r\n\r\n        <IonModal isOpen={showAddModal}>\r\n          <IonContent className=\"ion-padding\">\r\n            <IonItem>\r\n              <IonInput\r\n                value={inputName}\r\n                placeholder=\"Probe's name\"\r\n                onIonChange={(e) => setInputName(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n            <IonItem>\r\n              <IonInput\r\n                value={inputCategory}\r\n                placeholder=\"Probe's category\"\r\n                onIonChange={(e) => setInputCategory(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n            <IonButton color=\"success\" onClick={() => handlePost()}>\r\n              Validate\r\n              {loadingPost ? (\r\n                <IonSpinner name=\"crescent\" className=\"ml-3\" />\r\n              ) : (\r\n                  \"\"\r\n                )}\r\n            </IonButton>\r\n            <IonButton\r\n              color=\"secondary\"\r\n              slot=\"end\"\r\n              onClick={() => setShowAddModal(false)}\r\n            >\r\n              Close\r\n            </IonButton>\r\n          </IonContent>\r\n        </IonModal>\r\n\r\n        <IonModal isOpen={showAddfromToken}>\r\n          <IonContent className=\"ion-padding\">\r\n            <IonItem>\r\n              <IonInput\r\n                value={inputToken}\r\n                placeholder=\"Access token\"\r\n                onIonChange={(e) => setInputToken(e.detail.value!)}\r\n                className=\"my-3\"\r\n              ></IonInput>\r\n            </IonItem>\r\n            <IonButton color=\"success\" onClick={() => handleTokenPost()}>\r\n              Validate\r\n              {loadingShareToken ? (\r\n                <IonSpinner name=\"crescent\" className=\"ml-3\" />\r\n              ) : (\r\n                  \"\"\r\n                )}\r\n            </IonButton>\r\n            <IonButton\r\n              color=\"secondary\"\r\n              slot=\"end\"\r\n              onClick={() => setShowAddModal(false)}\r\n            >\r\n              Close\r\n            </IonButton>\r\n          </IonContent>\r\n        </IonModal>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default ProbeTab;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { IonContent, IonSkeletonText, IonButton } from \"@ionic/react\";\r\n\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nimport L from \"leaflet\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport icon from \"leaflet/dist/images/marker-icon.png\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\n\r\nlet DefaultIcon = L.icon({\r\n  iconUrl: icon,\r\n  shadowUrl: iconShadow,\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\ninterface ContainerProps {\r\n  token: string;\r\n}\r\n\r\nconst MapComponent: React.FC<ContainerProps> = ({ token }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [gpsArray, setGPSArray] = useState([\r\n    {\r\n      lon: 0.0,\r\n      lat: 0.0,\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await fetch(\r\n        \"http://\" + window.location.hostname + \":8000/api/v1/probe/user/\" + token\r\n      )\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          res.response.data.forEach((id: number) => {\r\n            fetch(\r\n              \"http://\" + window.location.hostname + \":8000/api/v1/probe/\" + id\r\n            )\r\n              .then((res) => res.json())\r\n              .then((res) => {\r\n                if (res.response.data.gps.lon && res.response.data.gps.lat) {\r\n                  setGPSArray(gpsArray.concat(res.response.data.gps));\r\n                }\r\n              });\r\n          });\r\n          setLoading(false);\r\n        });\r\n    }\r\n\r\n    fetchData();\r\n    // eslint-disable-next-line\r\n  }, [token]);\r\n  return (\r\n    <IonContent>\r\n      {!loading ? (\r\n        <>\r\n          <Map center={[43, 1]} zoom={3} style={{height: '98%', width: '99%'}}>\r\n            <TileLayer\r\n              attribution='Temper üíû'\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n            {console.log(gpsArray)}\r\n            {gpsArray.map((id, key) => {\r\n              return (\r\n                <React.Fragment key={key}>\r\n                  <Marker position={[gpsArray[key].lon, gpsArray[key].lat]}>\r\n                    <Popup>\r\n                      <IonButton>Coucou</IonButton>\r\n                    </Popup>\r\n                  </Marker>\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </Map>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <IonSkeletonText\r\n            animated\r\n            style={{ height: \"15vh\" }}\r\n          ></IonSkeletonText>\r\n          <IonSkeletonText\r\n            animated\r\n            style={{ height: \"45vh\" }}\r\n          ></IonSkeletonText>\r\n          <IonSkeletonText\r\n            animated\r\n            style={{ height: \"30vh\" }}\r\n          ></IonSkeletonText>\r\n        </>\r\n      )}\r\n    </IonContent>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n","import React from \"react\";\r\nimport { IonPage } from \"@ionic/react\";\r\nimport MapComponent from \"../../components/Map/Map\";\r\nimport { auth_middleware } from \"../../middleware/auth\";\r\n\r\nconst MapTab: React.FC = () => {\r\n  auth_middleware();\r\n\r\n  let auth_json = JSON.parse(\r\n    localStorage.getItem(\"auth\") ||\r\n      `{\"user\": {\"name\": \"\",\"email\": \"\"},\"token\": \"\"}`\r\n  );\r\n\r\n  return (\r\n    <IonPage>\r\n      <MapComponent token={auth_json.token}></MapComponent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default MapTab;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonItemDivider,\r\n  IonItem,\r\n  IonLabel,\r\n  IonIcon,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardSubtitle,\r\n  IonToggle,\r\n  IonItemSliding,\r\n  IonItemOptions,\r\n  IonItemOption,\r\n  IonRow,\r\n  IonCol,\r\n  IonToast,\r\n} from \"@ionic/react\";\r\nimport {\r\n  lockClosedOutline,\r\n  moonOutline,\r\n  sunnyOutline,\r\n  settingsOutline,\r\n  peopleCircleOutline,\r\n  bugOutline,\r\n  happyOutline,\r\n} from \"ionicons/icons\";\r\nimport { Avatar } from \"@chakra-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst UserTab: React.FC = () => {\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    token: \"\",\r\n    email: \"\",\r\n  });\r\n\r\n  let auth_dev = localStorage.getItem(\"auth.dev\") || \"0\";\r\n  const [darkMode, setDarkMode] = useState(localStorage.getItem(\"darkMode\") === 'true' || false);\r\n\r\n  const [clickForDevMode, setClickForDevMode] = useState(0);\r\n  const [toastVisible, setToastVisible] = useState(false);\r\n  const [toastMsg, setToastMsg] = useState(\r\n    `You're ${clickForDevMode} steps away from Dev Mode. üî®`\r\n  );\r\n  const [developperMode, setDevelopperMode] = useState(auth_dev === \"1\");\r\n\r\n  const handleDarkMode = (checked: boolean) => {\r\n    setDarkMode(checked);\r\n    localStorage.setItem(\"darkMode\", `${checked}`);\r\n    document.body.classList.toggle(\"dark\", checked);\r\n\r\n\r\n  };\r\n\r\n  const login = async () => {\r\n    let auth_json = JSON.parse(\r\n      localStorage.getItem(\"auth\") ||\r\n      `{\"user\": {\"name\": \"\",\"email\": \"\"},\"token\": \"\"}`\r\n    );\r\n    setUser({\r\n      name: auth_json.user.name,\r\n      token: auth_json.token,\r\n      email: auth_json.user.email,\r\n    });\r\n  };\r\n\r\n  const logout = async () => {\r\n    await fetch(\r\n      \"http://\" + window.location.hostname + \":8000/api/v1/user/logout/\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          token: user.token,\r\n        }),\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //localstorage wipe\r\n        localStorage.setItem(\"auth.logged\", \"0\");\r\n        localStorage.setItem(\"auth\", \"\");\r\n        setUser({ name: \"\", token: \"\", email: \"\" });\r\n        window.location.href =\r\n          \"http://\" + window.location.hostname + \":3000/login\";\r\n      });\r\n  };\r\n\r\n  const handleClickForDevMode = () => {\r\n    setClickForDevMode(clickForDevMode + 1);\r\n    setToastVisible(true);\r\n    if (developperMode) {\r\n      setToastMsg(\"You're already a developper\");\r\n    } else if (clickForDevMode === 7) {\r\n      setDevelopperMode(true);\r\n      localStorage.setItem(\"auth.dev\", \"1\");\r\n      setToastMsg(\"You're now a developper! Congrats ü§¥\");\r\n    } else {\r\n      setToastMsg(`You're ${7 - clickForDevMode} steps away from Dev Mode. üî®`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    login();\r\n    handleDarkMode(darkMode);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const history = useHistory();\r\n  const navigateTo = (url: string) => history.push(url);\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonContent>\r\n        <IonCard className=\"shadow-lg p-0 m-0\">\r\n          <IonCardHeader>\r\n            <IonRow className=\"ion-justify-content-center\">\r\n              <IonCol className=\"ion-justify-content-center\" size=\"12\">\r\n                <div className=\"row m-0 justify-content-center\">\r\n                  <Avatar\r\n                    size=\"2xl\"\r\n                    name={user.name}\r\n                    src=\"\"\r\n                    textAlign=\"center\"\r\n                    onClick={() => handleClickForDevMode()}\r\n                  />\r\n                </div>\r\n                <IonCardTitle className=\"display-4 text-center\">\r\n                  {user.name}\r\n                </IonCardTitle>\r\n                <IonCardSubtitle className=\"text-center\">\r\n                  {user.email}\r\n                </IonCardSubtitle>\r\n              </IonCol>\r\n            </IonRow>\r\n          </IonCardHeader>\r\n          <IonItemDivider></IonItemDivider>\r\n          <IonItem>\r\n            <IonIcon\r\n              icon={darkMode ? moonOutline : sunnyOutline}\r\n              slot=\"start\"\r\n            ></IonIcon>\r\n            <IonLabel>Toggle Dark Mode</IonLabel>\r\n            <IonToggle\r\n              checked={darkMode}\r\n              onIonChange={(e) => handleDarkMode(e.detail.checked)}\r\n              slot=\"end\"\r\n            />\r\n          </IonItem>\r\n\r\n          <IonItemDivider></IonItemDivider>\r\n          <IonItemSliding>\r\n            <IonItem\r\n              button\r\n              onClick={() => {\r\n                logout();\r\n              }}\r\n            >\r\n              <IonIcon icon={lockClosedOutline} slot=\"start\"></IonIcon>\r\n              <IonLabel>Log Out</IonLabel>\r\n            </IonItem>\r\n            <IonItemOptions>\r\n              <IonItemOption color=\"primary\">\r\n                <IonIcon icon={peopleCircleOutline}></IonIcon>\r\n                <IonLabel>Switch Accounts</IonLabel>\r\n              </IonItemOption>\r\n            </IonItemOptions>\r\n          </IonItemSliding>\r\n\r\n          <IonItem button onClick={() => { }}>\r\n            <IonIcon icon={settingsOutline} slot=\"start\"></IonIcon>\r\n            <IonLabel>Settings</IonLabel>\r\n          </IonItem>\r\n          <IonItem\r\n            button\r\n            onClick={() => {\r\n              navigateTo('/about');\r\n            }}\r\n          >\r\n            <IonIcon icon={happyOutline} slot=\"start\"></IonIcon>\r\n            <IonLabel>About</IonLabel>\r\n          </IonItem>\r\n          {developperMode ? (\r\n            <>\r\n              <IonItemDivider></IonItemDivider>\r\n\r\n              <IonItem\r\n                button\r\n                onClick={() => {\r\n                  navigateTo('/dev');\r\n                }}\r\n              >\r\n                <IonIcon icon={bugOutline} slot=\"start\"></IonIcon>\r\n                <IonLabel>Developper Tools</IonLabel>\r\n              </IonItem>\r\n            </>\r\n          ) : (\r\n              \"\"\r\n            )}\r\n\r\n        </IonCard>\r\n        <IonToast\r\n          isOpen={toastVisible}\r\n          onDidDismiss={() => setToastVisible(false)}\r\n          message={toastMsg}\r\n          duration={50}\r\n        />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default UserTab;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { RefresherEventDetail } from \"@ionic/core\";\r\nimport {\r\n  IonPage,\r\n  IonFab,\r\n  IonFabButton,\r\n  IonIcon,\r\n  IonContent,\r\n  IonSlides,\r\n  IonSlide,\r\n  IonRefresher,\r\n  IonRefresherContent,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardSubtitle,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n  IonChip,\r\n  IonSkeletonText,\r\n  IonButton,\r\n  IonActionSheet,\r\n  IonItem,\r\n  IonLabel,\r\n  IonRow,\r\n  IonCol,\r\n  IonModal,\r\n  IonRadioGroup,\r\n  IonListHeader,\r\n  IonRadio,\r\n  IonList,\r\n  IonText,\r\n} from \"@ionic/react\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport {\r\n  arrowUpCircle,\r\n  time,\r\n  rainy,\r\n  thermometer,\r\n  trash,\r\n  share,\r\n  heart,\r\n  close,\r\n  chevronBackOutline,\r\n  ellipsisVerticalOutline,\r\n  personOutline,\r\n} from \"ionicons/icons\";\r\n\r\nimport {\r\n  Heading,\r\n  Stack,\r\n  StatGroup,\r\n  Stat,\r\n  StatArrow,\r\n  StatLabel,\r\n  StatHelpText,\r\n  StatNumber,\r\n  Box,\r\n} from \"@chakra-ui/core\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport QRCode from \"qrcode.react\";\r\n\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { Map, TileLayer, Marker } from \"react-leaflet\";\r\nimport \"./ProbePage.css\";\r\n\r\nconst ProbePage: React.FC = () => {\r\n  let location = useLocation();\r\n  let id = location.pathname.split(\"/\")[2];\r\n\r\n  const history = useHistory();\r\n  const navigateTo = (url: string) => history.push(url);\r\n\r\n  const [name, setName] = useState();\r\n  const [createdAt, setCreatedAt] = useState(\"\");\r\n  const [state, setState] = useState();\r\n  const [category, setCategory] = useState();\r\n  const [measures, setMeasures] = useState([\r\n    {\r\n      temperature: null,\r\n      humidity: null,\r\n      date: null,\r\n    },\r\n  ]);\r\n  const [gps, setGPS] = useState({\r\n    lon: 0,\r\n    lat: 0,\r\n  });\r\n  const [owner, setOwner] = useState({ name: \"\", email: \"\", loading: true });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [showActionSheet, setShowActionSheet] = useState(false);\r\n  const [showQR, setShowQR] = useState(false);\r\n  const [qrJson, setQRJSON] = useState({ token: id, duration: \"1day\" });\r\n\r\n  /*const handleScroll = (e: any) => {\r\n    let scroll = document.querySelector(\"#scroll\")!;\r\n\r\n    if (e.detail.scrollTop > 20) {\r\n      scroll.classList.remove(\"d-none\");\r\n    } else {\r\n      scroll.classList.add(\"d-none\");\r\n    }\r\n  };*/\r\n\r\n  const fetchMeasures = async () => {\r\n    await fetch(\r\n      \"http://\" +\r\n      window.location.hostname +\r\n      \":8000/api/v1/measure/probe/\" +\r\n      id +\r\n      \"_limit=6\"\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setMeasures(\r\n          res.response.data || [{ temperature: 0, humidity: 0, date: \"\" }]\r\n        );\r\n      });\r\n  };\r\n  const fetchData = async () => {\r\n    await fetch(\r\n      \"http://\" + window.location.hostname + \":8000/api/v1/probe/\" + id\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setName(res.response.data.name);\r\n        setState(res.response.data.state);\r\n        setCategory(res.response.data.category);\r\n        setGPS(res.response.data.gps);\r\n        setCreatedAt(res.response.data.created_at);\r\n        setLoading(false);\r\n      });\r\n  };\r\n  const fetchOwner = async () => {\r\n    await fetch(\r\n      \"http://\" +\r\n      window.location.hostname +\r\n      \":8000/api/v1/probe/\" +\r\n      id +\r\n      \"/owner\"\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setOwner(\r\n          {\r\n            name: res.response.data.name,\r\n            email: res.response.data.email,\r\n            loading: false,\r\n          } || { name: \"Unable to fetch\", email: \"\", loading: false }\r\n        );\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    fetchMeasures();\r\n    fetchOwner();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const scrollToTop = () => {\r\n    document.querySelector(\"ion-content\")!.scrollToTop(500);\r\n  };\r\n\r\n  const doMeasuresRefresh = (event: CustomEvent<RefresherEventDetail>) => {\r\n    fetchMeasures().then(() => {\r\n      event.detail.complete();\r\n    });\r\n  };\r\n\r\n  const isGPS = (\r\n    <Map center={[43, 1]} zoom={12} style={{ height: \"50vh\", width: \"99%\" }}>\r\n      <TileLayer\r\n        attribution=\"Temper üíû\"\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n      <React.Fragment>\r\n        {\"\"}\r\n        <Marker position={[gps.lon, gps.lat]}></Marker>\r\n      </React.Fragment>\r\n    </Map>\r\n  );\r\n\r\n  const notGPS = \"\";\r\n\r\n  const map = gps.lon && gps.lat ? isGPS : notGPS;\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonContent\r\n        scrollEvents={true}\r\n        onIonScrollStart={() => { }}\r\n        onIonScroll={(e) => {\r\n          //handleScroll(e);\r\n        }}\r\n        onIonScrollEnd={() => { }}\r\n      >\r\n        <IonSlides\r\n          pager={true}\r\n          options={{\r\n            initialSlide: 0,\r\n            speed: 400,\r\n          }}\r\n        >\r\n          <IonSlide>\r\n            <IonCard\r\n              className=\"has-card-footer\"\r\n              style={{ height: \"83vh\", width: \"90%\", textAlign: \"start\" }}\r\n            >\r\n              <IonCardHeader>\r\n                <IonCardTitle>\r\n                  {!loading ? (\r\n                    <IonItem>\r\n                      <IonButton\r\n                        fill=\"clear\"\r\n                        onClick={() => navigateTo(\"/probes\")}\r\n                      >\r\n                        <IonIcon\r\n                          slot=\"icon-only\"\r\n                          icon={chevronBackOutline}\r\n                        ></IonIcon>\r\n                      </IonButton>\r\n                      <div className=\"display-4 ml-3\" style={{ fontFamily: 'Nunito' }}>\r\n                        {name ? name : \"Sonde #\" + id}\r\n                      </div>\r\n\r\n                      <IonButton\r\n                        fill=\"clear\"\r\n                        onClick={() => setShowActionSheet(true)}\r\n                        slot=\"end\"\r\n                      >\r\n                        <IonIcon\r\n                          slot=\"icon-only\"\r\n                          icon={ellipsisVerticalOutline}\r\n                        ></IonIcon>\r\n                      </IonButton>\r\n                    </IonItem>\r\n                  ) : (\r\n                      <IonSkeletonText\r\n                        animated\r\n                        style={{ height: \"10vh\" }}\r\n                      ></IonSkeletonText>\r\n                    )}\r\n                </IonCardTitle>\r\n\r\n                <IonCardSubtitle>\r\n                  {!loading ? (\r\n                    <>\r\n                      <IonChip outline={true} className=\"mx-3\" color=\"warning\">\r\n                        {category}\r\n                      </IonChip>\r\n\r\n                      <IonChip color={state ? \"success\" : \"danger\"}>\r\n                        {state ? \"Active\" : \"Disabled\"}\r\n                      </IonChip>\r\n                    </>\r\n                  ) : (\r\n                      <IonSkeletonText\r\n                        animated\r\n                        style={{ height: \"10vh\" }}\r\n                      ></IonSkeletonText>\r\n                    )}\r\n                </IonCardSubtitle>\r\n              </IonCardHeader>\r\n              <IonCardContent>\r\n                {!loading ? (\r\n                  map\r\n                ) : (\r\n                    <>\r\n                      <IonSkeletonText animated style={{ height: \"50vh\" }} />\r\n                    </>\r\n                  )}\r\n              </IonCardContent>\r\n\r\n              <IonRow className=\"ion-card-footer\">\r\n                <IonCol>\r\n                  <IonIcon\r\n                    icon={time}\r\n                    className=\"mr-2\"\r\n                    color=\"tertiary\"\r\n                  ></IonIcon>\r\n                  {loading ? (\r\n                    <IonSkeletonText\r\n                      animated\r\n                      style={{ width: \"60%\" }}\r\n                    ></IonSkeletonText>\r\n                  ) : createdAt ? (\r\n                    \"Created \" + moment(createdAt).fromNow()\r\n                  ) : (\r\n                        \"\"\r\n                      )}\r\n                </IonCol>\r\n                <IonCol>\r\n                  <IonIcon\r\n                    icon={personOutline}\r\n                    className=\"mx-2\"\r\n                    color=\"tertiary\"\r\n                  ></IonIcon>\r\n                  Owner :{\" \"}\r\n                  {owner.loading ? (\r\n                    <IonSkeletonText\r\n                      animated\r\n                      style={{ width: \"60%\" }}\r\n                    ></IonSkeletonText>\r\n                  ) : (\r\n                      owner.name + (owner.email ? \" - \" + owner.email : \"\")\r\n                    )}\r\n                </IonCol>\r\n              </IonRow>\r\n            </IonCard>\r\n          </IonSlide>\r\n          <IonSlide>\r\n            <IonRefresher slot=\"fixed\" onIonRefresh={doMeasuresRefresh}>\r\n              <IonRefresherContent></IonRefresherContent>\r\n            </IonRefresher>\r\n            <IonCard\r\n              style={{ height: \"83vh\", width: \"90%\", textAlign: \"start\" }}\r\n            >\r\n              <IonCardHeader>\r\n                <IonCardTitle>\r\n                  <Heading as=\"h1\" size=\"2xl\" className=\"ml-3\">\r\n                    Measures of {name}\r\n                  </Heading>\r\n                </IonCardTitle>\r\n              </IonCardHeader>\r\n              <IonCardContent>\r\n                <Stack spacing={4}>\r\n                  {measures.map((obj, key) => {\r\n                    let index = key - 1 === -1 ? 0 : key - 1;\r\n                    let tPercent =\r\n                      ((obj.temperature! - measures[index].temperature!) /\r\n                        measures[index].temperature!) *\r\n                      100;\r\n                    let hPercent =\r\n                      ((obj.humidity! - measures[index].humidity!) /\r\n                        measures[index].humidity!) *\r\n                      100;\r\n                    tPercent = Math.round(tPercent * 100) / 100;\r\n                    hPercent = Math.round(hPercent * 100) / 100;\r\n\r\n                    return (\r\n                      <Box p={5} borderWidth=\"1px\" key={key}>\r\n                        <StatGroup>\r\n                          <Stat>\r\n                            <StatLabel>\r\n                              <IonIcon\r\n                                icon={thermometer}\r\n                                className=\"mr-2\"\r\n                                color=\"primary\"\r\n                              ></IonIcon>\r\n                              Temperature\r\n                            </StatLabel>\r\n                            <StatNumber\r\n                              style={{\r\n                                fontSize: \"1.5rem\",\r\n                                fontWeight: \"bold\",\r\n                              }}\r\n                            >\r\n                              {obj.temperature} ¬∞C\r\n                            </StatNumber>\r\n                            <StatHelpText>\r\n                              <StatArrow\r\n                                type={tPercent >= 0 ? \"increase\" : \"decrease\"}\r\n                              />\r\n                              {tPercent} %\r\n                            </StatHelpText>\r\n                          </Stat>\r\n\r\n                          <Stat>\r\n                            <StatLabel>\r\n                              <IonIcon\r\n                                icon={rainy}\r\n                                className=\"mr-2\"\r\n                                color=\"secondary\"\r\n                              ></IonIcon>\r\n                              Humidty\r\n                            </StatLabel>\r\n                            <StatNumber\r\n                              style={{\r\n                                fontSize: \"1.5rem\",\r\n                                fontWeight: \"bold\",\r\n                              }}\r\n                            >\r\n                              {obj.humidity} %\r\n                            </StatNumber>\r\n                            <StatHelpText>\r\n                              <StatArrow\r\n                                type={hPercent >= 0 ? \"increase\" : \"decrease\"}\r\n                              />\r\n                              {hPercent} %\r\n                            </StatHelpText>\r\n                          </Stat>\r\n                          <Stat>\r\n                            <StatLabel>\r\n                              <IonIcon\r\n                                icon={time}\r\n                                className=\"mr-2\"\r\n                                color=\"tertiary\"\r\n                              ></IonIcon>\r\n                              Date\r\n                            </StatLabel>\r\n                            <StatNumber\r\n                              style={{\r\n                                fontSize: \"1.5rem\",\r\n                                fontWeight: \"bold\",\r\n                              }}\r\n                            >\r\n                              {moment(obj.date).fromNow()}\r\n                            </StatNumber>\r\n                            <StatHelpText>\r\n                              {moment(obj.date).format(\r\n                                \"MMMM Do YYYY, h:mm:ss a\"\r\n                              )}\r\n                            </StatHelpText>\r\n                          </Stat>\r\n                        </StatGroup>\r\n                      </Box>\r\n                    );\r\n                  })}\r\n                </Stack>\r\n              </IonCardContent>\r\n            </IonCard>\r\n          </IonSlide>\r\n          <IonSlide>Settings of probe</IonSlide>\r\n        </IonSlides>\r\n\r\n        <IonFab\r\n          horizontal=\"end\"\r\n          vertical=\"bottom\"\r\n          slot=\"fixed\"\r\n          id=\"scroll\"\r\n          className=\"d-none\"\r\n        >\r\n          <IonFabButton color=\"dark\" onClick={() => scrollToTop()}>\r\n            <IonIcon icon={arrowUpCircle}></IonIcon>\r\n          </IonFabButton>\r\n        </IonFab>\r\n\r\n        <IonModal isOpen={showQR} cssClass=\"modal-qrcode\">\r\n          <div className=\"p-5\">\r\n\r\n\r\n            <IonText className=\"display-6\" style={{ fontFamily: 'Nunito' }}>\r\n              Share via QR Code\r\n            </IonText>\r\n\r\n            <div className=\"w-100 mt-3\">\r\n              <QRCode\r\n                value={JSON.stringify(qrJson)}\r\n                size={150}\r\n                includeMargin={true}\r\n                bgColor={\"#eeeeee\"}\r\n                className=\"mx-auto mb-2\"\r\n              ></QRCode>\r\n            </div>\r\n            <IonList>\r\n              <IonRadioGroup\r\n                value={qrJson.duration}\r\n                onIonChange={(e) =>\r\n                  setQRJSON({ token: id, duration: e.detail.value })\r\n                }\r\n              >\r\n                <IonListHeader>\r\n                  <IonLabel>Duration of the share</IonLabel>\r\n                </IonListHeader>\r\n\r\n                <IonItem>\r\n                  <IonLabel>1 day</IonLabel>\r\n                  <IonRadio slot=\"start\" value=\"1day\" />\r\n                </IonItem>\r\n\r\n                <IonItem>\r\n                  <IonLabel>1 week</IonLabel>\r\n                  <IonRadio slot=\"start\" value=\"1week\" />\r\n                </IonItem>\r\n\r\n                <IonItem>\r\n                  <IonLabel>1 month</IonLabel>\r\n                  <IonRadio slot=\"start\" value=\"1month\" />\r\n                </IonItem>\r\n\r\n                <IonItem>\r\n                  <IonLabel>Always</IonLabel>\r\n                  <IonRadio slot=\"start\" value=\"always\" />\r\n                </IonItem>\r\n              </IonRadioGroup>\r\n            </IonList>\r\n\r\n            <IonButton\r\n              fill=\"outline\"\r\n              color=\"danger\"\r\n              expand=\"block\"\r\n              onClick={() => setShowQR(false)}\r\n            >\r\n              <IonIcon icon={close}></IonIcon>\r\n              Close\r\n            </IonButton>\r\n          </div>\r\n        </IonModal>\r\n\r\n        <IonActionSheet\r\n          isOpen={showActionSheet}\r\n          onDidDismiss={() => setShowActionSheet(false)}\r\n          buttons={[\r\n            {\r\n              text: \"Delete\",\r\n              role: \"destructive\",\r\n              icon: trash,\r\n              handler: () => {\r\n                console.log(\"Delete clicked\");\r\n              },\r\n            },\r\n            {\r\n              text: \"Share with your friends\",\r\n              icon: share,\r\n              handler: () => {\r\n                setShowQR(true);\r\n              },\r\n            },\r\n            {\r\n              text: \"Favorite\",\r\n              icon: heart,\r\n              handler: () => {\r\n                console.log(\"Favorite clicked\");\r\n              },\r\n            },\r\n            {\r\n              text: \"Cancel\",\r\n              icon: close,\r\n              role: \"cancel\",\r\n              handler: () => {\r\n                setShowActionSheet(false);\r\n              },\r\n            },\r\n          ]}\r\n        ></IonActionSheet>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default ProbePage;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonButton,\r\n  IonAlert,\r\n} from \"@ionic/react\";\r\nimport { Image, Heading } from \"@chakra-ui/core\";\r\n\r\nconst Login: React.FC = () => {\r\n  const succesfullyLogged = () => {\r\n    localStorage.setItem(\"auth.logged\", \"1\");\r\n    window.location.pathname = \"/probes\";\r\n  };\r\n\r\n  const [login, setLogin] = useState<string>();\r\n  const [password, setPassword] = useState<string>();\r\n\r\n  const [showError, setShowError] = useState(false);\r\n  const [error, setError] = useState({\r\n    logging: false,\r\n    logging_msg: \"\",\r\n  });\r\n\r\n  const handlePost = () => {\r\n    fetch(\"http://\" + window.location.hostname + \":8000/api/v1/user/connect/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        login: login,\r\n        password: password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (!result.response || !result.response.data.token) {\r\n          if (!result.response) {\r\n            let keys = Object.keys(result);\r\n            setError({ logging: true, logging_msg: result[keys[0]] });\r\n            setShowError(true);\r\n          } else {\r\n            setError({ logging: true, logging_msg: result.response.data });\r\n            setShowError(true);\r\n          }\r\n          \r\n        } else {\r\n          localStorage.setItem(\"auth\", JSON.stringify(result.response.data));\r\n          succesfullyLogged();\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonContent>\r\n        <div className=\"row justify-content-center p-4 mt-3\">\r\n          <Image\r\n            alt=\"Temper App\"\r\n            src=\"/assets/icon/favicon.png\"\r\n            style={{ height: \"20vh\", width: \"20vh\", marginBottom: \"40px\" }}\r\n          />\r\n          <Heading as=\"h3\" size=\"2xl\" textAlign=\"center\">\r\n            Login\r\n          </Heading>\r\n          <div className=\"p-4 my-2\">\r\n            <IonItem>\r\n              <IonLabel position=\"floating\">Name</IonLabel>\r\n              <IonInput\r\n                required\r\n                type=\"text\"\r\n                onIonChange={(e) => setLogin(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n            <IonItem>\r\n              <IonLabel position=\"floating\">Password</IonLabel>\r\n              <IonInput\r\n                required\r\n                type=\"password\"\r\n                onIonChange={(e) => setPassword(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n          </div>\r\n          <div className=\"py-4 my-2\">\r\n            <IonButton\r\n              expand=\"block\"\r\n              color=\"primary\"\r\n              fill=\"outline\"\r\n              onClick={() => handlePost()}\r\n            >\r\n              Connect to Temper\r\n            </IonButton>\r\n          </div>\r\n        </div>\r\n      </IonContent>\r\n      <IonAlert\r\n        isOpen={showError}\r\n        onDidDismiss={() => setShowError(false)}\r\n        cssClass=\"my-custom-class\"\r\n        header={\"Login : Error\"}\r\n        message={error.logging_msg}\r\n        buttons={[\"OK, I'll focus\"]}\r\n      />\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonButton,\r\n  IonProgressBar,\r\n  IonGrid,\r\n  IonRow,\r\n  IonCol,\r\n  IonAlert,\r\n} from \"@ionic/react\";\r\nimport zxcvbn from \"zxcvbn\";\r\nimport { Heading, Image, Text } from \"@chakra-ui/core\";\r\n\r\nconst Register: React.FC = () => {\r\n  const [login, setLogin] = useState<string>();\r\n  const [email, setEmail] = useState<string>();\r\n  const [password, setPassword] = useState<string>();\r\n  const [passwordConfirmation, setPC] = useState<string>();\r\n\r\n  const [showError, setShowError] = useState(false);\r\n  const [error, setError] = useState({\r\n    logging: false,\r\n    logging_msg: \"\",\r\n  });\r\n\r\n  const [passwordStrength, setPS] = useState({\r\n    score: -1,\r\n    msg: \"Start typing your password, we'll tell you its strong\",\r\n    color: \"\",\r\n  });\r\n\r\n  const [passwordConfirmationFeedback, setPCF] = useState({\r\n    score: 0,\r\n    msg: \"\",\r\n    color: \"\",\r\n  });\r\n\r\n  const handlePwdChange = (value: string) => {\r\n    setPassword(value);\r\n    let zx = zxcvbn(value);\r\n\r\n    let msg = \"\";\r\n    let color = \"\";\r\n\r\n    switch (zx.score) {\r\n      case 0:\r\n        msg = \"Weak, stop rolling your head on your keyboard üòí\";\r\n        color = \"danger\";\r\n        break;\r\n      case 1:\r\n        msg = \"Weak, stop rolling your head on your keyboard üòí\";\r\n        color = \"danger\";\r\n        break;\r\n      case 2:\r\n        msg = \"Fair\";\r\n        color = \"warning\";\r\n        break;\r\n      case 3:\r\n        msg = \"Good one but you can do better! ‚úî\";\r\n        color = \"success\";\r\n        break;\r\n      case 4:\r\n        msg = \"Rock it! üõ°\";\r\n        color = \"blue\";\r\n        break;\r\n      default:\r\n        msg = \"Weak, stop rolling your head on your keyboard üòí\";\r\n        color = \"danger\";\r\n        break;\r\n    }\r\n\r\n    setPS({\r\n      score: zx.score,\r\n      msg: msg,\r\n      color: color,\r\n    });\r\n  };\r\n\r\n  const handlePCChange = (value: string) => {\r\n    setPC(value);\r\n    if (value === password) {\r\n      setPCF({\r\n        score: 1,\r\n        msg: \"Your passwords are identics ‚úÖ\",\r\n        color: \"success\",\r\n      });\r\n    } else {\r\n      setPCF({\r\n        score: 0.1,\r\n        msg: \"Your passwords are not identics ‚õî\",\r\n        color: \"danger\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const succesfullyLogged = () => {\r\n    localStorage.setItem(\"auth.logged\", \"1\");\r\n    window.location.pathname = \"/probes\";\r\n  };\r\n\r\n  const handlePost = () => {\r\n    fetch(\"http://\" + window.location.hostname + \":8000/api/v1/user/register/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        login: login,\r\n        password: password,\r\n        password_confirmation : passwordConfirmation,\r\n        email: email\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (!result.response || !result.response.data.token) {\r\n          if(!result.response) {\r\n            let keys = Object.keys(result);\r\n            setError({ logging: true, logging_msg: result[keys[0]] });\r\n            setShowError(true);\r\n          } else {\r\n            setError({ logging: true, logging_msg: result.response.data });\r\n            setShowError(true);\r\n          }\r\n          \r\n        } else {\r\n          localStorage.setItem(\"auth\", JSON.stringify(result.response.data));\r\n          succesfullyLogged();\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonContent>\r\n        <div className=\"row justify-content-center p-4 mt-3\">\r\n          <IonGrid>\r\n            <IonRow>\r\n              <IonCol>\r\n                <Image\r\n                  alt=\"Temper App\"\r\n                  src=\"/assets/icon/favicon.png\"\r\n                  style={{\r\n                    height: \"20vh\",\r\n                    width: \"20vh\",\r\n                    marginBottom: \"40px\",\r\n                  }}\r\n                />\r\n              </IonCol>\r\n              <IonCol className=\"ion-align-self-center\">\r\n                <Heading as=\"h3\" size=\"2xl\" textAlign=\"center\">\r\n                  Register\r\n                </Heading>\r\n              </IonCol>\r\n            </IonRow>\r\n          </IonGrid>\r\n          <div className=\"p-4 my-2\">\r\n            <IonItem>\r\n              <IonLabel position=\"floating\">Name</IonLabel>\r\n              <IonInput\r\n                required\r\n                type=\"text\"\r\n                onIonChange={(e) => setLogin(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n            <IonItem>\r\n              <IonLabel position=\"floating\">Email (not required)</IonLabel>\r\n              <IonInput\r\n                type=\"email\"\r\n                onIonChange={(e) => setEmail(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n            <IonItem>\r\n              <IonLabel position=\"floating\">Password</IonLabel>\r\n              <IonInput\r\n                required\r\n                type=\"password\"\r\n                onIonChange={(e) => handlePwdChange(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n            <div className=\"mt-2 mb-1 mx-3\">\r\n              <IonProgressBar\r\n                color={passwordStrength.color}\r\n                value={passwordStrength.score * 0.25}\r\n              ></IonProgressBar>\r\n              <Text fontSize=\"xs\" className=\"ion-color-primary mt-1\">\r\n                {passwordStrength.msg}\r\n              </Text>\r\n            </div>\r\n\r\n            <IonItem>\r\n              <IonLabel position=\"floating\">Confirm password</IonLabel>\r\n              <IonInput\r\n                required\r\n                type=\"password\"\r\n                onIonChange={(e) => handlePCChange(e.detail.value!)}\r\n              ></IonInput>\r\n            </IonItem>\r\n            <div className=\"mt-2 mb-1 mx-3\">\r\n              <IonProgressBar\r\n                color={passwordConfirmationFeedback.color}\r\n                value={passwordConfirmationFeedback.score}\r\n              ></IonProgressBar>\r\n              <Text fontSize=\"xs\" className=\"ion-color-primary mt-1\">\r\n                {passwordConfirmationFeedback.msg}\r\n              </Text>\r\n            </div>\r\n          </div>\r\n          <div className=\"py-4 my-2\">\r\n            <IonButton\r\n              expand=\"block\"\r\n              color=\"primary\"\r\n              fill=\"outline\"\r\n              onClick={() => handlePost()}\r\n            >\r\n              Create an account\r\n            </IonButton>\r\n          </div>\r\n        </div>\r\n      </IonContent>\r\n      <IonAlert\r\n        isOpen={showError}\r\n        onDidDismiss={() => setShowError(false)}\r\n        cssClass=\"my-custom-class\"\r\n        header={\"Register : Error\"}\r\n        message={error.logging_msg}\r\n        buttons={[\"OK, I'll focus\"]}\r\n      />\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { IonPage } from \"@ionic/react\";\r\n\r\nconst Forgot: React.FC = () => {\r\n  return (\r\n    <IonPage>\r\n      Forgot\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Forgot;\r\n","import ProbeTab from \"../pages/tabs/ProbeTab\";\r\nimport MapTab from \"../pages/tabs/MapTab\";\r\nimport UserTab from \"../pages/tabs/UserTab\";\r\n\r\nimport ProbePage from \"../pages/ProbePage\";\r\n\r\nimport Login from \"../pages/auth/Login\";\r\nimport Register from \"../pages/auth/Register\";\r\nimport Forgot from \"../pages/auth/Forgot\";\r\n\r\nimport { thermometerOutline, mapOutline, peopleOutline, fingerPrintOutline, keyOutline, personAddOutline } from \"ionicons/icons\";\r\nimport DevTools from \"../pages/DevTools\";\r\nimport About from \"../pages/About\";\r\n\r\n\r\nexport const RoutesTab = [{\r\n    path : '/probes',\r\n    component: ProbeTab,\r\n    icon: thermometerOutline,\r\n    label: 'Probes'\r\n},{\r\n    path : '/map',\r\n    component: MapTab,\r\n    icon: mapOutline,\r\n    label: 'Map'\r\n},{\r\n    path : '/user',\r\n    component: UserTab,\r\n    icon: peopleOutline,\r\n    label: 'User'\r\n}];\r\n\r\nexport const Routes = [...RoutesTab,{\r\n    path : '/probe/:id',\r\n    component: ProbePage\r\n}, {\r\n    path:'/dev',\r\n    component: DevTools\r\n}, {\r\n    path:'/about',\r\n    component: About\r\n}];\r\n\r\nexport const RoutesAuth = [{\r\n    path : '/register',\r\n    component: Register,\r\n    icon: personAddOutline,\r\n    label: 'Register'\r\n},{\r\n    path : '/login',\r\n    component: Login,\r\n    icon: fingerPrintOutline,\r\n    label: 'Login'\r\n},{\r\n    path : '/forgot',\r\n    component: Forgot,\r\n    icon: keyOutline,\r\n    label: 'Forgot my password'\r\n}];","import React from 'react'\r\n\r\nexport default function DevTools() {\r\n    return (\r\n        <div>\r\n            DEV\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function About() {\r\n    return (\r\n        <div>\r\n            About\r\n        </div>\r\n    )\r\n}\r\n","import { theme } from \"@chakra-ui/core\";\n\nexport const temper = {\n  ...theme,\n  fonts: {\n    body: \"Nunito, system-ui, sans-serif\",\n    heading: \"Nunito, Georgia, serif\",\n    mono: \"Menlo, monospace\",\n  }\n}","import React, { useState, useEffect } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport {\n  IonApp,\n  IonIcon,\n  IonLabel,\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonTabs,\n} from \"@ionic/react\";\nimport { IonReactRouter } from \"@ionic/react-router\";\nimport { Routes, RoutesTab, RoutesAuth } from \"./routes/web\";\n//import { thermometerOutline, mapOutline, peopleOutline } from \"ionicons/icons\";\n\nimport { ThemeProvider, ColorModeProvider, CSSReset } from \"@chakra-ui/core\";\n\n/*import ProbeTab from \"./pages/ProbeTab\";\nimport MapTab from \"./pages/MapTab\";\nimport UserTab from \"./pages/UserTab\";\nimport ProbePage from \"./pages/ProbePage\";*/\n\n/* Core CSS required for Ionic components to work properly */\nimport \"@ionic/react/css/core.css\";\n\n/* Basic CSS for apps built with Ionic */\nimport \"@ionic/react/css/normalize.css\";\nimport \"@ionic/react/css/structure.css\";\nimport \"@ionic/react/css/typography.css\";\n\n/* Optional CSS utils that can be commented out */\nimport \"@ionic/react/css/padding.css\";\nimport \"@ionic/react/css/float-elements.css\";\nimport \"@ionic/react/css/text-alignment.css\";\nimport \"@ionic/react/css/text-transformation.css\";\nimport \"@ionic/react/css/flex-utils.css\";\nimport \"@ionic/react/css/display.css\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\n/* Theme variables */\nimport { temper } from \"./theme/temper\";\nimport \"./theme/variables.css\";\nimport \"./theme/app.css\";\nimport { auth_middleware } from \"./middleware/auth\";\n//import { auth_middleware } from \"./middleware/auth\";\n\nconst logged = (\n  <ThemeProvider theme={temper}>\n    <CSSReset />\n    <ColorModeProvider>\n      <IonReactRouter>\n        <IonTabs>\n          <IonRouterOutlet>\n            {Routes.map((obj, key) => {\n              return (\n                <Route\n                  path={obj.path}\n                  component={obj.component}\n                  exact={true}\n                  key={key}\n                />\n              );\n            })}\n\n            <Route\n              path=\"/\"\n              render={() => <Redirect to=\"/probes\" />}\n              exact={true}\n            />\n          </IonRouterOutlet>\n          <IonTabBar slot=\"bottom\">\n            {RoutesTab.map((obj, key) => {\n              return (\n                <IonTabButton\n                  tab={obj.label.toLowerCase()}\n                  href={obj.path}\n                  key={key}\n                >\n                  <IonIcon icon={obj.icon} />\n                  <IonLabel>{obj.label}</IonLabel>\n                </IonTabButton>\n              );\n            })}\n          </IonTabBar>\n        </IonTabs>\n      </IonReactRouter>\n    </ColorModeProvider>\n  </ThemeProvider>\n);\n\nconst notLogged = (\n  <ThemeProvider theme={temper}>\n    <CSSReset />\n    <ColorModeProvider>\n      <IonReactRouter>\n        <IonTabs>\n          <IonRouterOutlet>\n            {RoutesAuth.map((obj, key) => {\n              return (\n                <Route\n                  path={obj.path}\n                  component={obj.component}\n                  exact={true}\n                  key={key}\n                />\n              );\n            })}\n            <Route\n              path=\"/\"\n              render={() => <Redirect to=\"/login\" />}\n              exact={true}\n            />\n          </IonRouterOutlet>\n          <IonTabBar slot=\"bottom\">\n            {RoutesAuth.map((obj, key) => {\n              return (\n                <IonTabButton\n                  tab={obj.label.toLowerCase()}\n                  href={obj.path}\n                  key={key}\n                >\n                  <IonIcon icon={obj.icon} />\n                  <IonLabel>{obj.label}</IonLabel>\n                </IonTabButton>\n              );\n            })}\n          </IonTabBar>\n        </IonTabs>\n      </IonReactRouter>\n    </ColorModeProvider>\n  </ThemeProvider>\n);\n\nconst App: React.FC = () => {\n  const [darkMode, setDarkMode] = useState(localStorage.getItem(\"darkMode\") === 'true' || false);\n  const handleDarkMode = (checked: boolean) => {\n    setDarkMode(checked);\n    localStorage.setItem(\"darkMode\", `${checked}`);\n    document.body.classList.toggle(\"dark\", checked);\n\n    \n  };\n  if (!localStorage.getItem(\"auth.logged\")) {\n    localStorage.setItem(\"auth.logged\", \"0\");\n  }\n  useEffect(() => {\n    handleDarkMode(darkMode);\n    // eslint-disable-next-line\n  }, []);\n  \n  auth_middleware();\n\n  return <IonApp>{localStorage.getItem(\"auth.logged\") === \"1\" ? logged : notLogged}</IonApp>;\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}